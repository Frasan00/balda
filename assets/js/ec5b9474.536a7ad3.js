"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3052],{3926:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"plugins/helmet","title":"Helmet Plugin","description":"The Helmet plugin sets various HTTP headers to help protect your Balda.js application from well-known web vulnerabilities. It\'s a security middleware that helps secure your app by setting several HTTP headers.","source":"@site/docs/plugins/helmet.md","sourceDirName":"plugins","slug":"/plugins/helmet","permalink":"/balda-js/docs/plugins/helmet","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda-js/tree/main/docs/docs/plugins/helmet.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6}}');var t=i(4848),s=i(8453);const l={sidebar_position:6},o="Helmet Plugin",c={},a=[{value:"Features",id:"features",level:2},{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"Simple Setup",id:"simple-setup",level:3},{value:"Disable Helmet",id:"disable-helmet",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Default Configuration",id:"default-configuration",level:3},{value:"Custom Configuration",id:"custom-configuration",level:3},{value:"Security Headers Explained",id:"security-headers-explained",level:2},{value:"Content Security Policy (CSP)",id:"content-security-policy-csp",level:3},{value:"HTTP Strict Transport Security (HSTS)",id:"http-strict-transport-security-hsts",level:3},{value:"Frame Options",id:"frame-options",level:3},{value:"XSS Protection",id:"xss-protection",level:3},{value:"Content Type Options",id:"content-type-options",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Security Setup",id:"basic-security-setup",level:3},{value:"Production Security Configuration",id:"production-security-configuration",level:3},{value:"API-Focused Configuration",id:"api-focused-configuration",level:3},{value:"Web Application Configuration",id:"web-application-configuration",level:3},{value:"Individual Header Configuration",id:"individual-header-configuration",level:2},{value:"DNS Prefetch Control",id:"dns-prefetch-control",level:3},{value:"Frame Guard",id:"frame-guard",level:3},{value:"HSTS Configuration",id:"hsts-configuration",level:3},{value:"Content Type Options",id:"content-type-options-1",level:3},{value:"IE No Open",id:"ie-no-open",level:3},{value:"XSS Filter",id:"xss-filter",level:3},{value:"Referrer Policy",id:"referrer-policy",level:3},{value:"Cross-Origin Policies",id:"cross-origin-policies",level:3},{value:"Environment-Based Configuration",id:"environment-based-configuration",level:2},{value:"Development vs Production",id:"development-vs-production",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"helmet-plugin",children:"Helmet Plugin"})}),"\n",(0,t.jsx)(n.p,{children:"The Helmet plugin sets various HTTP headers to help protect your Balda.js application from well-known web vulnerabilities. It's a security middleware that helps secure your app by setting several HTTP headers."}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Headers"}),": Sets various security-related HTTP headers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configurable Options"}),": Customize which headers to enable/disable"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Production Ready"}),": Optimized security settings for production"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Easy Integration"}),": Simple configuration with sensible defaults"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Comprehensive Protection"}),": Covers multiple attack vectors"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"simple-setup",children:"Simple Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { Server } from 'balda-js';\n\nconst server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {}\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"disable-helmet",children:"Disable Helmet"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: false\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsx)(n.h3,{id:"default-configuration",children:"Default Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  dnsPrefetchControl: true,\n  frameguard: { action: "SAMEORIGIN" },\n  hsts: { maxAge: 15552000, includeSubDomains: true, preload: false },\n  contentTypeOptions: true,\n  ieNoOpen: true,\n  xssFilter: true,\n  referrerPolicy: "no-referrer",\n  crossOriginResourcePolicy: "same-origin",\n  crossOriginOpenerPolicy: "same-origin",\n  crossOriginEmbedderPolicy: "require-corp",\n  contentSecurityPolicy: false\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"custom-configuration",children:"Custom Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: {\n        directives: {\n          defaultSrc: ["\'self\'"],\n          styleSrc: ["\'self\'", "\'unsafe-inline\'"],\n          scriptSrc: ["\'self\'"],\n          imgSrc: ["\'self\'", "data:", "https:"]\n        }\n      },\n      hsts: {\n        maxAge: 31536000, // 1 year\n        includeSubDomains: true,\n        preload: true\n      }\n    }\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security-headers-explained",children:"Security Headers Explained"}),"\n",(0,t.jsx)(n.h3,{id:"content-security-policy-csp",children:"Content Security Policy (CSP)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: ["\'self\'"],\n      styleSrc: ["\'self\'", "\'unsafe-inline\'", "https://fonts.googleapis.com"],\n      scriptSrc: ["\'self\'", "https://cdn.jsdelivr.net"],\n      imgSrc: ["\'self\'", "data:", "https:"],\n      fontSrc: ["\'self\'", "https://fonts.gstatic.com"],\n      connectSrc: ["\'self\'", "https://api.example.com"],\n      frameSrc: ["\'none\'"],\n      objectSrc: ["\'none\'"],\n      mediaSrc: ["\'self\'"],\n      manifestSrc: ["\'self\'"]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"http-strict-transport-security-hsts",children:"HTTP Strict Transport Security (HSTS)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  hsts: {\n    maxAge: 31536000,        // 1 year\n    includeSubDomains: true, // Apply to subdomains\n    preload: true            // Include in browser preload lists\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"frame-options",children:"Frame Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  frameguard: {\n    action: "DENY" // Prevent embedding in frames\n  }\n}\n\n// Or use string values\nhelmet: {\n  frameguard: "DENY" // Same as above\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"xss-protection",children:"XSS Protection"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  xssFilter: true // Enable XSS protection\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"content-type-options",children:"Content Type Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  contentTypeOptions: true // Prevent MIME type sniffing\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,t.jsx)(n.h3,{id:"basic-security-setup",children:"Basic Security Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: false, // Disable CSP for development\n      hsts: false // Disable HSTS for HTTP\n    }\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"production-security-configuration",children:"Production Security Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const isProduction = process.env.NODE_ENV === \'production\';\n\nconst server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: isProduction ? {\n        directives: {\n          defaultSrc: ["\'self\'"],\n          styleSrc: ["\'self\'", "\'unsafe-inline\'"],\n          scriptSrc: ["\'self\'"],\n          imgSrc: ["\'self\'", "data:", "https:"],\n          fontSrc: ["\'self\'", "https://fonts.gstatic.com"],\n          connectSrc: ["\'self\'"],\n          frameSrc: ["\'none\'"],\n          objectSrc: ["\'none\'"]\n        }\n      } : false,\n      hsts: isProduction ? {\n        maxAge: 31536000,\n        includeSubDomains: true,\n        preload: true\n      } : false,\n      frameguard: { action: "DENY" },\n      xssFilter: true,\n      contentTypeOptions: true,\n      referrerPolicy: "strict-origin-when-cross-origin"\n    }\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h3,{id:"api-focused-configuration",children:"API-Focused Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: false, // APIs don\'t need CSP\n      hsts: {\n        maxAge: 31536000,\n        includeSubDomains: true\n      },\n      frameguard: { action: "DENY" },\n      xssFilter: true,\n      contentTypeOptions: true,\n      referrerPolicy: "no-referrer"\n    }\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h3,{id:"web-application-configuration",children:"Web Application Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: {\n        directives: {\n          defaultSrc: ["\'self\'"],\n          styleSrc: ["\'self\'", "\'unsafe-inline\'", "https://fonts.googleapis.com"],\n          scriptSrc: ["\'self\'", "https://cdn.jsdelivr.net"],\n          imgSrc: ["\'self\'", "data:", "https:"],\n          fontSrc: ["\'self\'", "https://fonts.gstatic.com"],\n          connectSrc: ["\'self\'", "wss:"],\n          frameSrc: ["\'self\'"],\n          objectSrc: ["\'none\'"],\n          mediaSrc: ["\'self\'"],\n          manifestSrc: ["\'self\'"]\n        }\n      },\n      hsts: {\n        maxAge: 31536000,\n        includeSubDomains: true,\n        preload: true\n      },\n      frameguard: { action: "SAMEORIGIN" },\n      xssFilter: true,\n      contentTypeOptions: true,\n      referrerPolicy: "strict-origin-when-cross-origin"\n    }\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"individual-header-configuration",children:"Individual Header Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"dns-prefetch-control",children:"DNS Prefetch Control"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  dnsPrefetchControl: true // Disable DNS prefetching\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"frame-guard",children:"Frame Guard"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  frameguard: {\n    action: "DENY" // Prevent all framing\n  }\n}\n\n// Available actions:\n// "DENY" - Prevent all framing\n// "SAMEORIGIN" - Allow same-origin framing\n// "ALLOW-FROM uri" - Allow framing from specific URI\n'})}),"\n",(0,t.jsx)(n.h3,{id:"hsts-configuration",children:"HSTS Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  hsts: {\n    maxAge: 31536000,        // Time in seconds\n    includeSubDomains: true, // Apply to subdomains\n    preload: true            // Include in preload lists\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"content-type-options-1",children:"Content Type Options"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  contentTypeOptions: true // Prevent MIME type sniffing\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ie-no-open",children:"IE No Open"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  ieNoOpen: true // Prevent IE from executing downloads\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"xss-filter",children:"XSS Filter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"helmet: {\n  xssFilter: true // Enable XSS protection\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"referrer-policy",children:"Referrer Policy"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  referrerPolicy: "strict-origin-when-cross-origin"\n}\n\n// Available policies:\n// "no-referrer"\n// "no-referrer-when-downgrade"\n// "origin"\n// "origin-when-cross-origin"\n// "same-origin"\n// "strict-origin"\n// "strict-origin-when-cross-origin"\n// "unsafe-url"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"cross-origin-policies",children:"Cross-Origin Policies"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'helmet: {\n  crossOriginResourcePolicy: "same-origin",\n  crossOriginOpenerPolicy: "same-origin",\n  crossOriginEmbedderPolicy: "require-corp"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"environment-based-configuration",children:"Environment-Based Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const isProduction = process.env.NODE_ENV === \'production\';\n\nconst helmetConfig = isProduction ? {\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: ["\'self\'"],\n      styleSrc: ["\'self\'", "\'unsafe-inline\'"],\n      scriptSrc: ["\'self\'"],\n      imgSrc: ["\'self\'", "data:", "https:"]\n    }\n  },\n  hsts: {\n    maxAge: 31536000,\n    includeSubDomains: true,\n    preload: true\n  },\n  frameguard: { action: "DENY" },\n  xssFilter: true,\n  contentTypeOptions: true\n} : {\n  contentSecurityPolicy: false,\n  hsts: false,\n  frameguard: { action: "SAMEORIGIN" },\n  xssFilter: true,\n  contentTypeOptions: true\n};\n\nconst server = new Server({\n  port: 3000,\n  plugins: {\n    helmet: helmetConfig\n  }\n});\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);