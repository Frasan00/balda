"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1815],{8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var r=n(6540);const t={},i=r.createContext(t);function a(e){const s=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}},9966:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"commands/built-ins/queue-start","title":"queue-start","description":"Start queue workers to process jobs from registered queues.","source":"@site/docs/commands/built-ins/queue-start.md","sourceDirName":"commands/built-ins","slug":"/commands/built-ins/queue-start","permalink":"/balda/docs/commands/built-ins/queue-start","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda/tree/main/docs/docs/commands/built-ins/queue-start.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"docs","previous":{"title":"cron-start","permalink":"/balda/docs/commands/built-ins/cron-start"},"next":{"title":"key-generate","permalink":"/balda/docs/commands/built-ins/key-generate"}}');var t=n(4848),i=n(8453);const a={sidebar_position:7},l="queue-start",o={},d=[{value:"Arguments",id:"arguments",level:2},{value:"Flags",id:"flags",level:2},{value:"What it does",id:"what-it-does",level:2},{value:"Supported Queue Providers",id:"supported-queue-providers",level:2},{value:"Examples",id:"examples",level:2},{value:"Queue Handler Example",id:"queue-handler-example",level:2}];function u(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"queue-start",children:"queue-start"})}),"\n",(0,t.jsx)(s.p,{children:"Start queue workers to process jobs from registered queues."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npx balda queue-start\nnpx balda queue-start src/queues/**/*.ts\n"})}),"\n",(0,t.jsx)(s.h2,{id:"arguments",children:"Arguments"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"pattern"}),": Glob pattern for queue handler files (default: ",(0,t.jsx)(s.code,{children:"src/queues/**/*.{ts,js}"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"flags",children:"Flags"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"-p, --patterns <patterns...>"}),": Additional glob patterns for queue handlers"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"what-it-does",children:"What it does"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Loads queue handler files matching the provided patterns"}),"\n",(0,t.jsxs)(s.li,{children:["Registers all handlers decorated with queue decorators (",(0,t.jsx)(s.code,{children:"@queue.subscribe()"}),")"]}),"\n",(0,t.jsx)(s.li,{children:"Starts workers to process jobs from configured queue providers"}),"\n",(0,t.jsx)(s.li,{children:"Keeps the process alive to continuously process jobs"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"supported-queue-providers",children:"Supported Queue Providers"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"BullMQ"})," (Redis-based)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"SQS"})," (AWS Simple Queue Service)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"PG-Boss"})," (PostgreSQL-based)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Memory"})," (In-memory, development only)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Custom"})," (Your own queue implementation)"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Use default pattern (src/queues/**/*.{ts,js})\nnpx balda queue-start\n\n# Custom pattern\nnpx balda queue-start app/jobs/**/*.ts\n\n# Multiple patterns\nnpx balda queue-start src/queues/**/*.ts --patterns src/jobs/**/*.ts\n"})}),"\n",(0,t.jsx)(s.h2,{id:"queue-handler-example",children:"Queue Handler Example"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { memoryQueue } from 'balda';\n\ntype EmailPayload = {\n  to: string;\n  subject: string;\n  body: string;\n};\n\nconst emailQueue = memoryQueue<EmailPayload>('emails');\n\nexport class EmailQueueHandler {\n  @emailQueue.subscribe()\n  async handle(payload: EmailPayload) {\n    console.log(`Sending email to ${payload.to}`);\n    // Process email sending logic\n  }\n}\n"})}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsx)(s.p,{children:"Use this command in production to run dedicated queue worker processes. Separate your web servers from queue workers for better scalability."})}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsxs)(s.p,{children:["Initialize queue providers first with ",(0,t.jsx)(s.code,{children:"npx balda init-queue"})," and create handlers with ",(0,t.jsx)(s.code,{children:"npx balda generate-queue"}),"."]})})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);