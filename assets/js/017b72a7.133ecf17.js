"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[802],{6081:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"plugins/overview","title":"Plugins Overview","description":"Balda.js provides a comprehensive plugin system that allows you to extend the framework\'s functionality with additional features and middleware.","source":"@site/docs/plugins/overview.md","sourceDirName":"plugins","slug":"/plugins/overview","permalink":"/balda-js/docs/docs/plugins/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda-js/tree/main/docs/docs/plugins/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Request & Response","permalink":"/balda-js/docs/docs/core-concepts/request-response"},"next":{"title":"Swagger Plugin","permalink":"/balda-js/docs/docs/plugins/swagger"}}');var l=i(4848),r=i(8453);const o={sidebar_position:1},t="Plugins Overview",c={},a=[{value:"What are Plugins?",id:"what-are-plugins",level:2},{value:"Built-in Plugins",id:"built-in-plugins",level:2},{value:"Core Plugins",id:"core-plugins",level:3},{value:"Security Plugins",id:"security-plugins",level:3},{value:"Utility Plugins",id:"utility-plugins",level:3},{value:"Documentation Plugins",id:"documentation-plugins",level:3},{value:"Plugin Configuration",id:"plugin-configuration",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"Environment-based Configuration",id:"environment-based-configuration",level:3},{value:"Plugin Order",id:"plugin-order",level:2},{value:"Plugin Options",id:"plugin-options",level:2},{value:"Enabling/Disabling Plugins",id:"enablingdisabling-plugins",level:3},{value:"Plugin-specific Options",id:"plugin-specific-options",level:3},{value:"Custom Plugins",id:"custom-plugins",level:2},{value:"Creating a Custom Plugin",id:"creating-a-custom-plugin",level:3},{value:"Plugin with Configuration",id:"plugin-with-configuration",level:3},{value:"Plugin Lifecycle",id:"plugin-lifecycle",level:2},{value:"Initialization",id:"initialization",level:3},{value:"Request Processing",id:"request-processing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Configure Based on Environment",id:"1-configure-based-on-environment",level:3},{value:"2. Use Appropriate Limits",id:"2-use-appropriate-limits",level:3},{value:"3. Secure Your Application",id:"3-secure-your-application",level:3},{value:"4. Monitor and Log",id:"4-monitor-and-log",level:3},{value:"5. Optimize for Performance",id:"5-optimize-for-performance",level:3},{value:"Plugin Compatibility",id:"plugin-compatibility",level:2},{value:"Runtime Support",id:"runtime-support",level:3},{value:"Plugin Dependencies",id:"plugin-dependencies",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debugging",id:"debugging",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"plugins-overview",children:"Plugins Overview"})}),"\n",(0,l.jsx)(e.p,{children:"Balda.js provides a comprehensive plugin system that allows you to extend the framework's functionality with additional features and middleware.\nThose are included by default in the framework as a standard library, you can use them directly or as a reference to create your own plugins."}),"\n",(0,l.jsx)(e.h2,{id:"what-are-plugins",children:"What are Plugins?"}),"\n",(0,l.jsx)(e.p,{children:"Plugins in Balda.js are modular components that add specific functionality to your application. They can provide:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Middleware"}),": Request/response processing"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Body Parsing"}),": JSON, form data, file uploads"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Security"}),": CORS, Helmet, rate limiting"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Documentation"}),": Swagger/OpenAPI"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Utilities"}),": Logging, cookies, static file serving"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"built-in-plugins",children:"Built-in Plugins"}),"\n",(0,l.jsx)(e.p,{children:"Balda.js comes with several built-in plugins:"}),"\n",(0,l.jsx)(e.h3,{id:"core-plugins",children:"Core Plugins"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/cors",children:"CORS"})})," - Cross-Origin Resource Sharing"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/json",children:"JSON"})})," - JSON body parsing"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/static",children:"Static"})})," - Static file serving"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/cookie",children:"Cookie"})})," - Cookie parsing and management"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"security-plugins",children:"Security Plugins"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/helmet",children:"Helmet"})})," - Security headers"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/rate-limiter",children:"Rate Limiter"})})," - Request rate limiting"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"utility-plugins",children:"Utility Plugins"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/log",children:"Log"})})," - Request logging"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/file",children:"File"})})," - File upload handling"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/urlencoded",children:"URL Encoded"})})," - Form data parsing"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"documentation-plugins",children:"Documentation Plugins"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"/balda-js/docs/docs/plugins/swagger",children:"Swagger"})})," - API documentation"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"plugin-configuration",children:"Plugin Configuration"}),"\n",(0,l.jsx)(e.h3,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,l.jsx)(e.p,{children:"Plugins are configured through the server options:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"import { Server } from 'balda-js';\n\nconst server = new Server({\n  port: 3000,\n  plugins: {\n    cors: {\n      origin: ['http://localhost:3000'],\n      credentials: true\n    },\n    json: {\n      limit: '10mb'\n    },\n    static: {\n      root: './public'\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"environment-based-configuration",children:"Environment-based Configuration"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const isProduction = process.env.NODE_ENV === 'production';\n\nconst server = new Server({\n  port: 3000,\n  plugins: {\n    cors: {\n      origin: isProduction\n        ? ['https://myapp.com']\n        : ['http://localhost:3000']\n    },\n    helmet: isProduction ? {} : false,\n    rateLimiter: isProduction ? {\n      windowMs: 15 * 60 * 1000, // 15 minutes\n      max: 100 // limit each IP to 100 requests per windowMs\n    } : false\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h2,{id:"plugin-order",children:"Plugin Order"}),"\n",(0,l.jsx)(e.p,{children:"Plugins are applied in a specific order to ensure proper functionality:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"CORS"})," - Handle cross-origin requests first"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Helmet"})," - Apply security headers"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Rate Limiter"})," - Check request limits"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Body Parsers"})," - Parse request bodies","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"JSON"}),"\n",(0,l.jsx)(e.li,{children:"URL Encoded"}),"\n",(0,l.jsx)(e.li,{children:"File uploads"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Cookie"})," - Parse cookies"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Log"})," - Log requests"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Static"})," - Serve static files"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Swagger"})," - API documentation"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"plugin-options",children:"Plugin Options"}),"\n",(0,l.jsx)(e.h3,{id:"enablingdisabling-plugins",children:"Enabling/Disabling Plugins"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    cors: true,        // Use default configuration\n    json: false,       // Disable plugin\n    static: {          // Custom configuration\n      root: './public'\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"plugin-specific-options",children:"Plugin-specific Options"}),"\n",(0,l.jsx)(e.p,{children:"Each plugin has its own configuration options:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    cors: {\n      origin: ['http://localhost:3000'],\n      methods: ['GET', 'POST', 'PUT', 'DELETE'],\n      credentials: true\n    },\n    json: {\n      limit: '10mb',\n      strict: true\n    },\n    static: {\n      root: './public',\n      prefix: '/static'\n    },\n    rateLimiter: {\n      windowMs: 15 * 60 * 1000,\n      max: 100\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h2,{id:"custom-plugins",children:"Custom Plugins"}),"\n",(0,l.jsx)(e.h3,{id:"creating-a-custom-plugin",children:"Creating a Custom Plugin"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"import { ServerPlugin } from 'balda-js';\n\nexport class CustomPlugin implements ServerPlugin {\n  name = 'custom';\n\n  apply(server: Server) {\n    // Add middleware\n    server.use((req, res, next) => {\n      console.log('Custom plugin middleware');\n      next();\n    });\n\n    // Add routes\n    server.get('/custom', (req, res) => {\n      res.json({ message: 'Custom plugin route' });\n    });\n  }\n}\n\n// Usage\nconst server = new Server({\n  plugins: {\n    custom: new CustomPlugin()\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"plugin-with-configuration",children:"Plugin with Configuration"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"interface CustomPluginOptions {\n  message?: string;\n  enabled?: boolean;\n}\n\nexport class CustomPlugin implements ServerPlugin {\n  name = 'custom';\n  private options: CustomPluginOptions;\n\n  constructor(options: CustomPluginOptions = {}) {\n    this.options = {\n      message: 'Hello from custom plugin',\n      enabled: true,\n      ...options\n    };\n  }\n\n  apply(server: Server) {\n    if (!this.options.enabled) {\n      return;\n    }\n\n    server.use((req, res, next) => {\n      console.log(this.options.message);\n      next();\n    });\n  }\n}\n\n// Usage\nconst server = new Server({\n  plugins: {\n    custom: {\n      message: 'Custom message',\n      enabled: true\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h2,{id:"plugin-lifecycle",children:"Plugin Lifecycle"}),"\n",(0,l.jsx)(e.h3,{id:"initialization",children:"Initialization"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Server creates plugin instances"}),"\n",(0,l.jsx)(e.li,{children:"Plugins are validated"}),"\n",(0,l.jsx)(e.li,{children:"Plugins are applied in order"}),"\n",(0,l.jsx)(e.li,{children:"Middleware is registered"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"request-processing",children:"Request Processing"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Request enters plugin middleware chain"}),"\n",(0,l.jsx)(e.li,{children:"Each plugin processes the request"}),"\n",(0,l.jsx)(e.li,{children:"Request reaches route handlers"}),"\n",(0,l.jsx)(e.li,{children:"Response flows back through plugins"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(e.h3,{id:"1-configure-based-on-environment",children:"1. Configure Based on Environment"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const isProduction = process.env.NODE_ENV === 'production';\n\nconst server = new Server({\n  plugins: {\n    cors: {\n      origin: isProduction\n        ? process.env.ALLOWED_ORIGINS?.split(',')\n        : ['http://localhost:3000'],\n      credentials: true\n    },\n    helmet: isProduction ? {} : false,\n    rateLimiter: isProduction ? {\n      windowMs: 15 * 60 * 1000,\n      max: 100\n    } : false\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"2-use-appropriate-limits",children:"2. Use Appropriate Limits"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    json: {\n      limit: '10mb'  // Reasonable limit for JSON payloads\n    },\n    file: {\n      maxFileSize: '5mb',  // Limit file uploads\n      maxFiles: 10\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"3-secure-your-application",children:"3. Secure Your Application"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    helmet: {\n      contentSecurityPolicy: {\n        directives: {\n          defaultSrc: [\"'self'\"],\n          styleSrc: [\"'self'\", \"'unsafe-inline'\"],\n          scriptSrc: [\"'self'\"]\n        }\n      }\n    },\n    cors: {\n      origin: ['https://myapp.com'],\n      credentials: true\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"4-monitor-and-log",children:"4. Monitor and Log"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    log: {\n      level: 'info',\n      format: 'combined'\n    },\n    rateLimiter: {\n      windowMs: 15 * 60 * 1000,\n      max: 100,\n      message: 'Too many requests from this IP'\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"5-optimize-for-performance",children:"5. Optimize for Performance"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  plugins: {\n    static: {\n      root: './public',\n      maxAge: '1d',  // Cache static files\n      etag: true\n    },\n    json: {\n      limit: '1mb'  // Reasonable limit\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h2,{id:"plugin-compatibility",children:"Plugin Compatibility"}),"\n",(0,l.jsx)(e.h3,{id:"runtime-support",children:"Runtime Support"}),"\n",(0,l.jsx)(e.p,{children:"All built-in plugins work across all supported runtimes:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Node.js"}),": Full support"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Bun"}),": Full support"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Deno"}),": Full support"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"plugin-dependencies",children:"Plugin Dependencies"}),"\n",(0,l.jsx)(e.p,{children:"Some plugins may have runtime-specific dependencies:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"// Plugin automatically detects runtime and uses appropriate implementation\nconst server = new Server({\n  plugins: {\n    file: {\n      // Works on Node.js, Bun, and Deno\n      storage: 'memory'  // or 'disk'\n    }\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(e.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Plugin not working"}),": Check plugin order and configuration"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"CORS errors"}),": Verify origin configuration"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"File upload failures"}),": Check file size limits and storage configuration"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Rate limiting too strict"}),": Adjust window and max request settings"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"debugging",children:"Debugging"}),"\n",(0,l.jsx)(e.p,{children:"Enable debug logging to troubleshoot plugin issues:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"const server = new Server({\n  debug: true,  // Enable debug logging\n  plugins: {\n    // Your plugin configuration\n  }\n});\n"})}),"\n",(0,l.jsx)(e.p,{children:"Plugins in Balda.js provide a powerful and flexible way to extend your application with additional functionality while maintaining clean, modular code."})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function o(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);