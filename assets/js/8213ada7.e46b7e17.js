"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6826],{8285:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"commands/built-ins","title":"built-ins","description":"Built-in Commands","source":"@site/docs/commands/built-ins.md","sourceDirName":"commands","slug":"/commands/built-ins","permalink":"/balda/docs/commands/built-ins","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda/tree/main/docs/docs/commands/built-ins.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docs","previous":{"title":"overview","permalink":"/balda/docs/commands/overview"},"next":{"title":"custom","permalink":"/balda/docs/commands/custom"}}');var i=s(4848),d=s(8453);const l={sidebar_position:2},c=void 0,t={},o=[{value:"Built-in Commands",id:"built-in-commands",level:3},{value:"init",id:"init",level:4},{value:"init-queue",id:"init-queue",level:4},{value:"list",id:"list",level:4},{value:"setup-storage",id:"setup-storage",level:4},{value:"serve",id:"serve",level:4},{value:"generate-plugin",id:"generate-plugin",level:4},{value:"generate-cron",id:"generate-cron",level:4},{value:"generate-queue",id:"generate-queue",level:4},{value:"generate-controller",id:"generate-controller",level:4},{value:"generate-middleware",id:"generate-middleware",level:4},{value:"build",id:"build",level:4}];function a(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"built-in-commands",children:"Built-in Commands"}),"\n",(0,i.jsx)(n.h4,{id:"init",children:"init"}),"\n",(0,i.jsx)(n.p,{children:"Scaffold a minimal Balda project with optional service integrations."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda init -p ./src -t true\nnpx balda init -p ./src -t true --mqtt --cron\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": target directory (default ",(0,i.jsx)(n.code,{children:"./src"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-t, --typescript <boolean>"}),": generate TS files (default ",(0,i.jsx)(n.code,{children:"true"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-m, --mqtt <boolean>"}),": initialize MQTT service connection (default ",(0,i.jsx)(n.code,{children:"false"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-c, --cron <boolean>"}),": initialize Cron service (default ",(0,i.jsx)(n.code,{children:"false"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Installs required dev dependencies (",(0,i.jsx)(n.code,{children:"esbuild"}),", ",(0,i.jsx)(n.code,{children:"esbuild-plugin-copy"}),", ",(0,i.jsx)(n.code,{children:"tsx"}),", ",(0,i.jsx)(n.code,{children:"typescript"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"--mqtt"})," is provided, prompts to install ",(0,i.jsx)(n.code,{children:"mqtt"})," package and creates ",(0,i.jsx)(n.code,{children:"src/mqtt/"})," directory with config"]}),"\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"--cron"})," is provided, prompts to install ",(0,i.jsx)(n.code,{children:"node-cron"})," package and creates ",(0,i.jsx)(n.code,{children:"src/cron/"})," directory with config"]}),"\n",(0,i.jsxs)(n.li,{children:["Creates ",(0,i.jsx)(n.code,{children:"server.ts"})," with basic server configuration"]}),"\n",(0,i.jsxs)(n.li,{children:["Creates ",(0,i.jsx)(n.code,{children:"index.ts"})," with server startup and optional service connections"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Service scaffolding:"})}),"\n",(0,i.jsxs)(n.p,{children:["When using ",(0,i.jsx)(n.code,{children:"--mqtt"})," or ",(0,i.jsx)(n.code,{children:"--cron"})," flags, the command creates:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"MQTT"}),": Creates ",(0,i.jsx)(n.code,{children:"src/mqtt/mqtt.config.ts"})," and sets up connection in ",(0,i.jsx)(n.code,{children:"index.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cron"}),": Creates ",(0,i.jsx)(n.code,{children:"src/cron/cron.config.ts"})," and initializes service in ",(0,i.jsx)(n.code,{children:"index.ts"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example with services:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda init --mqtt --cron\n"})}),"\n",(0,i.jsx)(n.p,{children:"This creates the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 server.ts\n\u251c\u2500\u2500 index.ts\n\u251c\u2500\u2500 mqtt/\n\u2502   \u2514\u2500\u2500 mqtt.config.ts\n\u2514\u2500\u2500 cron/\n    \u2514\u2500\u2500 cron.config.ts\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The generated ",(0,i.jsx)(n.code,{children:"index.ts"})," includes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { server } from "./server.js";\nimport "./mqtt/mqtt.config.js";\nimport { MqttService } from "balda";\nimport "./cron/cron.config.js";\nimport { CronService } from "balda";\n\n// Initialize MQTT service\nawait MqttService.connect({\n  host: "localhost",\n  port: 1883,\n  protocol: "mqtt",\n});\nconsole.log("MQTT service connected");\n\n// Initialize Cron service\nawait CronService.run();\nconsole.log("Cron service started");\n\nserver.listen(({ url }) => {\n  console.log(`Server is running on ${url}`);\n});\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," Service scaffolding only creates the directories and connection setup. Use ",(0,i.jsx)(n.code,{children:"generate-mqtt"})," and ",(0,i.jsx)(n.code,{children:"generate-cron"})," commands to create handlers in their respective directories."]}),"\n",(0,i.jsx)(n.h4,{id:"init-queue",children:"init-queue"}),"\n",(0,i.jsx)(n.p,{children:"Initialize queue provider configuration with required dependencies and basic credentials."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda init-queue -t bullmq\nnpx balda init-queue -t sqs -o src/queue\nnpx balda init-queue -t pgboss\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-t, --type <provider>"}),": Queue provider type (",(0,i.jsx)(n.code,{children:"bullmq"}),", ",(0,i.jsx)(n.code,{children:"sqs"}),", ",(0,i.jsx)(n.code,{children:"pgboss"}),") - ",(0,i.jsx)(n.strong,{children:"required"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-o, --output <path>"}),": Output directory for queue configuration (default ",(0,i.jsx)(n.code,{children:"src/queue"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Checks if dependencies are already installed (skips if present)"}),"\n",(0,i.jsx)(n.li,{children:"Installs required packages for the selected provider"}),"\n",(0,i.jsx)(n.li,{children:"Creates a configuration file with environment variable templates and basic setup"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Provider dependencies:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"BullMQ"}),": ",(0,i.jsx)(n.code,{children:"bullmq"}),", ",(0,i.jsx)(n.code,{children:"ioredis"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SQS"}),": ",(0,i.jsx)(n.code,{children:"@aws-sdk/client-sqs"}),", ",(0,i.jsx)(n.code,{children:"sqs-consumer"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PG-Boss"}),": ",(0,i.jsx)(n.code,{children:"pg-boss"}),", ",(0,i.jsx)(n.code,{children:"pg"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Generated configuration files:"})}),"\n",(0,i.jsx)(n.p,{children:"Each provider gets its own configuration file with sensible defaults:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"BullMQ"})," (",(0,i.jsx)(n.code,{children:"bullmq.config.ts"}),"): Redis connection, job options, error handling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SQS"})," (",(0,i.jsx)(n.code,{children:"sqs.config.ts"}),"): AWS credentials, queue URL mapping, consumer options"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PG-Boss"})," (",(0,i.jsx)(n.code,{children:"pgboss.config.ts"}),"): PostgreSQL connection string, error handling"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example BullMQ configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { defineBullMQConfiguration } from "balda";\n\ndefineBullMQConfiguration({\n  connection: {\n    host: process.env.REDIS_HOST || "localhost",\n    port: parseInt(process.env.REDIS_PORT || "6379", 10),\n    password: process.env.REDIS_PASSWORD,\n  },\n  defaultJobOptions: {\n    attempts: 3,\n    backoff: {\n      type: "exponential",\n      delay: 1000,\n    },\n  },\n  errorHandler: async (job, error) => {\n    console.error(`Job ${job.id} failed:`, error);\n  },\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Important notes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This command only scaffolds the connection configuration, not queue handlers"}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"npx balda generate-queue"})," to create queue worker handlers"]}),"\n",(0,i.jsx)(n.li,{children:"Remember to update the generated configuration with your actual credentials"}),"\n",(0,i.jsx)(n.li,{children:"Import the configuration file in your application entry point before using queues"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/queues/overview",children:"Queue documentation"})," for usage examples and handler creation."]}),"\n",(0,i.jsx)(n.h4,{id:"list",children:"list"}),"\n",(0,i.jsx)(n.p,{children:"List registered commands with descriptions. Commands are organized by category for better readability."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda list\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u2728 Available Balda Commands:\n\nUser Commands:\n\n  GENERATOR:\n    generate-controller    Generate a new controller in the specified path\n    generate-middleware    Generate a new middleware in the specified path\n\nBuilt-in Commands:\n\n  init                    Initialize a new balda project in the current directory\n  list                    List all available commands\n  generate-command        Generate a new command in the specified path\n  generate-plugin         Generate a new plugin in the specified path\n  generate-cron           Generate a new cron job in the specified path\n  generate-queue          Generate a new queue in the specified path\n  generate-controller     Generate a new controller in the specified path\n  generate-middleware     Generate a new middleware in the specified path\n  build                   Build the project for production (Node.js only)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Commands marked with ",(0,i.jsx)(n.strong,{children:"[deprecated]"})," are still available but will be removed in future versions."]}),"\n",(0,i.jsx)(n.h4,{id:"setup-storage",children:"setup-storage"}),"\n",(0,i.jsx)(n.p,{children:"Setup storage provider with required dependencies and configuration."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda setup-storage -t s3\nnpx balda setup-storage -t azure -o src/config/\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-t, --type <provider>"}),": Storage provider type (",(0,i.jsx)(n.code,{children:"s3"}),", ",(0,i.jsx)(n.code,{children:"azure"}),", ",(0,i.jsx)(n.code,{children:"local"}),") - ",(0,i.jsx)(n.strong,{children:"required"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-o, --output <path>"}),": Output directory for storage setup (default ",(0,i.jsx)(n.code,{children:"src/storage/"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Checks if dependencies are already installed (skips if present)"}),"\n",(0,i.jsx)(n.li,{children:"Installs required packages for the selected provider"}),"\n",(0,i.jsx)(n.li,{children:"Creates a configuration file with environment variable templates"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Provider dependencies:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"S3"}),": ",(0,i.jsx)(n.code,{children:"@aws-sdk/client-s3"}),", ",(0,i.jsx)(n.code,{children:"@aws-sdk/s3-request-presigner"}),", ",(0,i.jsx)(n.code,{children:"@aws-sdk/cloudfront-signer"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Azure"}),": ",(0,i.jsx)(n.code,{children:"@azure/storage-blob"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Local"}),": No additional dependencies"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/docs/storage/overview",children:"Storage documentation"})," for usage examples."]}),"\n",(0,i.jsx)(n.h4,{id:"serve",children:"serve"}),"\n",(0,i.jsx)(n.p,{children:"Run the server in development mode with hot reload. The command automatically detects your runtime (Bun, Deno, or Node.js) and uses the appropriate hot reload mechanism."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda serve -e ./src/index.ts\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-e, --entry, -s <string>"}),": Entry point of the project (default ",(0,i.jsx)(n.code,{children:"./src/index.ts"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-d, --deno-import-map <string>"}),": Path to Deno import map (Deno only)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Runtime-specific behavior:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bun"}),": Uses native ",(0,i.jsx)(n.code,{children:"bun run --watch"})," for hot reload"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deno"}),": Uses native ",(0,i.jsx)(n.code,{children:"deno run --watch"})," with ",(0,i.jsx)(n.code,{children:"--unstable-sloppy-imports"})," and ",(0,i.jsx)(n.code,{children:"--allow-all"})," permissions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node.js"}),": Uses ",(0,i.jsx)(n.code,{children:"tsx"})," for hot reload (automatically installs if not found)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For Node.js, ",(0,i.jsx)(n.code,{children:"tsx"})," will be automatically installed as a dev dependency if not detected"]}),"\n",(0,i.jsx)(n.li,{children:"This command should be run from the root of your project"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example with custom entry point:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda serve --entry ./src/server.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n#### generate-command\n\nGenerate a new custom CLI command. This creates a command class template that you can customize.\n\n```bash\nnpx balda generate-command hello -p src/commands\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/commands/hello.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/commands"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," Command names must be unique. The generator will prevent you from creating a command that conflicts with existing built-in or user-defined commands."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example generated code:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { Command, CommandOptions } from "balda";\n\nexport default class extends Command {\n  static commandName = "hello";\n  static description = "Command description";\n\n  static options: CommandOptions = {\n    // Define your command options here\n    keepAlive: false,\n  };\n\n  static async handle(): Promise<void> {\n    // Implement your command logic here\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"generate-plugin",children:"generate-plugin"}),"\n",(0,i.jsx)(n.p,{children:"Generate a new plugin to extend Balda's functionality."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda generate-plugin auth -p src/plugins/security\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/plugins/security/auth.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/plugins"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"generate-cron",children:"generate-cron"}),"\n",(0,i.jsx)(n.p,{children:"Generate a new cron job for scheduled tasks."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda generate-cron clean-sessions -p src/maintenance/cron\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/maintenance/cron/clean-sessions.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/cron"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"generate-queue",children:"generate-queue"}),"\n",(0,i.jsx)(n.p,{children:"Generate a new queue worker for background job processing."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda generate-queue user-signup -p src/queues --provider bullmq\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/queues/user-signup.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/queues"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--provider <string>"}),": Queue provider (",(0,i.jsx)(n.code,{children:"bullmq"}),", ",(0,i.jsx)(n.code,{children:"pgboss"}),", ",(0,i.jsx)(n.code,{children:"sqs"}),", or ",(0,i.jsx)(n.code,{children:"custom"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"generate-controller",children:"generate-controller"}),"\n",(0,i.jsx)(n.p,{children:"Generate a new controller with RESTful route handlers. Controllers are classes that handle HTTP requests and define API endpoints using decorators."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda generate-controller user -p src/controllers\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/controllers/user.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"The generated controller includes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["RESTful route handlers (",(0,i.jsx)(n.code,{children:"index"}),", ",(0,i.jsx)(n.code,{children:"show"}),", ",(0,i.jsx)(n.code,{children:"create"}),", ",(0,i.jsx)(n.code,{children:"update"}),", ",(0,i.jsx)(n.code,{children:"destroy"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Route decorators (",(0,i.jsx)(n.code,{children:"@get"}),", ",(0,i.jsx)(n.code,{children:"@post"}),", ",(0,i.jsx)(n.code,{children:"@put"}),", ",(0,i.jsx)(n.code,{children:"@del"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Proper URL structure based on the controller name"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/controllers"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example generated code:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { controller, get, post, put, del, Request, Response } from "balda";\n\n@controller("/user")\nexport default class UserController {\n  @get("/")\n  async index(req: Request, res: Response) {\n    return { message: "List all users" };\n  }\n\n  @get("/:id")\n  async show(req: Request, res: Response) {\n    return { message: `Get user with id ${req.params.id}` };\n  }\n\n  @post("/")\n  async create(req: Request, res: Response) {\n    return { message: "Create user", data: req.body };\n  }\n\n  @put("/:id")\n  async update(req: Request, res: Response) {\n    return { message: `Update user with id ${req.params.id}`, data: req.body };\n  }\n\n  @del("/:id")\n  async destroy(req: Request, res: Response) {\n    return { message: `Delete user with id ${req.params.id}` };\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"generate-middleware",children:"generate-middleware"}),"\n",(0,i.jsx)(n.p,{children:"Generate a new middleware function. Middlewares can be used to process requests before they reach your route handlers."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda generate-middleware auth -p src/middlewares\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generated file:"})," ",(0,i.jsx)(n.code,{children:"src/middlewares/auth.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --path <string>"}),": Target directory (default ",(0,i.jsx)(n.code,{children:"src/middlewares"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example generated code:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import type {\n  Request,\n  Response,\n  NextFunction,\n  ServerRouteMiddleware,\n} from "balda";\n\n/**\n * Auth middleware\n * @description Add your middleware logic here\n */\nexport const Auth: ServerRouteMiddleware = async () => {\n  return async (req: Request, res: Response, next: NextFunction) => {\n    // Add your middleware logic here\n    return next();\n  };\n};\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage with controllers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { controller, get, middleware } from "balda";\nimport { Auth } from "./middlewares/auth";\n\n@controller("/protected")\n@middleware(Auth)\nexport default class ProtectedController {\n  @get("/data")\n  async getData(req: Request, res: Response) {\n    return { message: "Protected data" };\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"build",children:"build"}),"\n",(0,i.jsx)(n.p,{children:"Build the project for production (Node.js only). Creates an optimized production bundle with optional asset copying."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda build -t ./tsconfig.json -a ./assets\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-c, --clear-dist <boolean>"}),": Clear the dist directory before building (default ",(0,i.jsx)(n.code,{children:"false"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-e, --entry <string>"}),": Entry point of the project (default ",(0,i.jsx)(n.code,{children:"./src/index.ts"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-o, --output <string>"}),": Output directory path (default ",(0,i.jsx)(n.code,{children:"./dist"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-t, --tsconfig <string>"}),": Path to tsconfig.json file (default ",(0,i.jsx)(n.code,{children:"./tsconfig.json"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-a, --assets <string>"}),": Path to assets directory to copy to output"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-f, --format <string>"}),": Build format: ",(0,i.jsx)(n.code,{children:"esm"})," or ",(0,i.jsx)(n.code,{children:"cjs"})," (default ",(0,i.jsx)(n.code,{children:"esm"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --packages <string>"}),": Package bundling: ",(0,i.jsx)(n.code,{children:"bundle"})," or ",(0,i.jsx)(n.code,{children:"external"})," (default ",(0,i.jsx)(n.code,{children:"external"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-s, --sourcemap <boolean>"}),": Generate sourcemaps (default ",(0,i.jsx)(n.code,{children:"true"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Must have ",(0,i.jsx)(n.code,{children:"esbuild"})," installed: ",(0,i.jsx)(n.code,{children:"npm install -D esbuild"})]}),"\n",(0,i.jsxs)(n.li,{children:["For asset copying, must have ",(0,i.jsx)(n.code,{children:"esbuild-plugin-copy"})," installed: ",(0,i.jsx)(n.code,{children:"npm install -D esbuild-plugin-copy"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example with all options:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx balda build \\\n  --entry ./src/server.ts \\\n  --output ./dist \\\n  --tsconfig ./tsconfig.json \\\n  --assets ./public \\\n  --format esm \\\n  --packages external \\\n  --sourcemap true \\\n  --clear-dist\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Build output:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Main file: ",(0,i.jsx)(n.code,{children:"./dist/server.js"})]}),"\n",(0,i.jsxs)(n.li,{children:["Assets (if specified): ",(0,i.jsx)(n.code,{children:"./dist/assets/*"})]}),"\n",(0,i.jsxs)(n.li,{children:["Source maps (if enabled): ",(0,i.jsx)(n.code,{children:"./dist/server.js.map"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var r=s(6540);const i={},d=r.createContext(i);function l(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);