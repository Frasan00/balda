"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[414],{206:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"plugins/swagger","title":"Swagger Plugin","description":"The Swagger plugin automatically generates OpenAPI 3.0 documentation for your Balda.js API. It provides interactive documentation with three UI options: Swagger UI, ReDoc, and RapiDoc.","source":"@site/docs/plugins/swagger.md","sourceDirName":"plugins","slug":"/plugins/swagger","permalink":"/balda-js/docs/docs/plugins/swagger","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda-js/tree/main/docs/docs/plugins/swagger.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"docs","previous":{"title":"Plugins Overview","permalink":"/balda-js/docs/docs/plugins/overview"},"next":{"title":"REST API Example","permalink":"/balda-js/docs/docs/examples/rest-api"}}');var t=s(4848),i=s(8453);const a={sidebar_position:9},o="Swagger Plugin",c={},l=[{value:"Features",id:"features",level:2},{value:"Global Configuration",id:"global-configuration",level:2},{value:"Basic Setup",id:"basic-setup",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:3},{value:"Route-Level Documentation",id:"route-level-documentation",level:2},{value:"Basic Route Documentation",id:"basic-route-documentation",level:3},{value:"Path Parameters",id:"path-parameters",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Security Requirements",id:"security-requirements",level:3},{value:"File Upload Documentation",id:"file-upload-documentation",level:3},{value:"Excluding Routes",id:"excluding-routes",level:3},{value:"UI Options",id:"ui-options",level:2},{value:"Swagger UI (Standard)",id:"swagger-ui-standard",level:3},{value:"ReDoc",id:"redoc",level:3},{value:"RapiDoc",id:"rapidoc",level:3},{value:"Integration with Validation",id:"integration-with-validation",level:2},{value:"Accessing Documentation",id:"accessing-documentation",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"swagger-plugin",children:"Swagger Plugin"})}),"\n",(0,t.jsx)(n.p,{children:"The Swagger plugin automatically generates OpenAPI 3.0 documentation for your Balda.js API. It provides interactive documentation with three UI options: Swagger UI, ReDoc, and RapiDoc."}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic Route Discovery"}),": Automatically discovers and documents all your routes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multiple UI Options"}),": Choose between Swagger UI, ReDoc, or RapiDoc"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type Integration"}),": Uses your validation schemas to generate accurate request/response documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security Support"}),": Document authentication schemes and security requirements"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Custom Models"}),": Define reusable data models for your API"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"global-configuration",children:"Global Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { Server } from \'balda-js\';\n\nconst server = new Server({\n  port: 3000,\n  swagger: {\n    type: "standard", // "standard" | "redoc" | "rapidoc"\n    path: "/docs",\n    title: "My API Documentation",\n    description: "API documentation for my application",\n    version: "1.0.0",\n    servers: ["http://localhost:3000"]\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h3,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'const server = new Server({\n  port: 3000,\n  swagger: {\n    type: "standard",\n    path: "/api-docs",\n    title: "E-Commerce API",\n    description: "Complete API for our e-commerce platform",\n    version: "2.1.0",\n    servers: [\n      "http://localhost:3000",\n      "https://api.staging.example.com",\n      "https://api.example.com"\n    ],\n    security: [\n      { bearer: [] }\n    ],\n    securitySchemes: {\n      bearer: {\n        type: "http",\n        scheme: "bearer",\n        bearerFormat: "JWT"\n      },\n      apiKey: {\n        type: "apiKey",\n        name: "X-API-Key",\n        in: "header"\n      }\n    },\n    tags: {\n      users: {\n        description: "User management operations"\n      },\n      products: {\n        description: "Product catalog operations"\n      },\n      orders: {\n        description: "Order processing operations"\n      }\n    },\n    models: {\n      User: {\n        type: "object",\n        properties: {\n          id: { type: "string", format: "uuid" },\n          email: { type: "string", format: "email" },\n          name: { type: "string" },\n          createdAt: { type: "string", format: "date-time" }\n        },\n        required: ["email", "name"]\n      },\n      Product: {\n        type: "object",\n        properties: {\n          id: { type: "string" },\n          name: { type: "string" },\n          price: { type: "number" },\n          category: { type: "string" }\n        },\n        required: ["name", "price"]\n      }\n    }\n  }\n});\n'})}),"\n",(0,t.jsx)(n.h2,{id:"route-level-documentation",children:"Route-Level Documentation"}),"\n",(0,t.jsx)(n.h3,{id:"basic-route-documentation",children:"Basic Route Documentation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { controller, get, post } from \'balda-js\';\nimport { Request, Response } from \'balda-js\';\n\n@controller(\'/users\')\nexport class UsersController {\n  @get(\'/\', {\n    swagger: {\n      name: "Get All Users",\n      description: "Retrieve a list of all users",\n      service: "users",\n      responses: {\n        "200": {\n          type: "array",\n          items: { $ref: "#/components/schemas/User" }\n        }\n      }\n    }\n  })\n  async getAllUsers(req: Request, res: Response) {\n    const users = await getUsers();\n    res.json(users);\n  }\n\n  @post(\'/\', {\n    swagger: {\n      name: "Create User",\n      description: "Create a new user account",\n      service: "users",\n      requestBody: {\n        type: "object",\n        properties: {\n          email: { type: "string", format: "email" },\n          name: { type: "string" },\n          password: { type: "string", minLength: 8 }\n        },\n        required: ["email", "name", "password"]\n      },\n      responses: {\n        "201": {\n          type: "object",\n          properties: {\n            user: { $ref: "#/components/schemas/User" },\n            message: { type: "string" }\n          }\n        },\n        "400": {\n          type: "object",\n          properties: {\n            error: { type: "string" },\n            details: { type: "array", items: { type: "string" } }\n          }\n        }\n      }\n    }\n  })\n  async createUser(req: Request, res: Response) {\n    const user = await createUser(req.body);\n    res.created({ user, message: "User created successfully" });\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'@get(\'/:id\', {\n  swagger: {\n    name: "Get User by ID",\n    description: "Retrieve a specific user by their ID",\n    service: "users",\n    params: {\n      type: "object",\n      properties: {\n        id: { type: "string", format: "uuid" }\n      }\n    },\n    responses: {\n      "200": { $ref: "#/components/schemas/User" },\n      "404": {\n        type: "object",\n        properties: {\n          error: { type: "string" }\n        }\n      }\n    }\n  }\n})\nasync getUserById(req: Request, res: Response) {\n  const { id } = req.params;\n  const user = await getUserById(id);\n  if (!user) {\n    return res.notFound({ error: "User not found" });\n  }\n  res.json(user);\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'@get(\'/search\', {\n  swagger: {\n    name: "Search Users",\n    description: "Search users with filters",\n    service: "users",\n    query: {\n      type: "object",\n      properties: {\n        q: { type: "string", description: "Search query" },\n        limit: { type: "number", minimum: 1, maximum: 100, default: 10 },\n        offset: { type: "number", minimum: 0, default: 0 },\n        sort: { type: "string", enum: ["name", "email", "createdAt"] }\n      },\n      required: ["q"]\n    },\n    responses: {\n      "200": {\n        type: "object",\n        properties: {\n          users: {\n            type: "array",\n            items: { $ref: "#/components/schemas/User" }\n          },\n          total: { type: "number" },\n          limit: { type: "number" },\n          offset: { type: "number" }\n        }\n      }\n    }\n  }\n})\nasync searchUsers(req: Request, res: Response) {\n  const { q, limit = 10, offset = 0, sort } = req.query;\n  const result = await searchUsers({ q, limit, offset, sort });\n  res.json(result);\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"security-requirements",children:"Security Requirements"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'@post(\'/profile\', {\n  swagger: {\n    name: "Update Profile",\n    description: "Update user profile (requires authentication)",\n    service: "users",\n    security: [\n      { type: "bearer", bearerFormat: "JWT" }\n    ],\n    requestBody: {\n      type: "object",\n      properties: {\n        name: { type: "string" },\n        bio: { type: "string" }\n      }\n    },\n    responses: {\n      "200": { $ref: "#/components/schemas/User" },\n      "401": {\n        type: "object",\n        properties: {\n          error: { type: "string" }\n        }\n      }\n    }\n  }\n})\nasync updateProfile(req: Request, res: Response) {\n  // Implementation with authentication\n  const user = await updateUserProfile(req.user.id, req.body);\n  res.json(user);\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"file-upload-documentation",children:"File Upload Documentation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'@post(\'/avatar\', {\n  swagger: {\n    name: "Upload Avatar",\n    description: "Upload user avatar image",\n    service: "users",\n    bodyType: "form-data",\n    requestBody: {\n      type: "object",\n      properties: {\n        avatar: {\n          type: "string",\n          format: "binary",\n          description: "Avatar image file"\n        }\n      },\n      required: ["avatar"]\n    },\n    responses: {\n      "200": {\n        type: "object",\n        properties: {\n          url: { type: "string", format: "uri" },\n          message: { type: "string" }\n        }\n      }\n    }\n  }\n})\nasync uploadAvatar(req: Request, res: Response) {\n  const file = req.files.avatar;\n  const url = await uploadFile(file);\n  res.json({ url, message: "Avatar uploaded successfully" });\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"excluding-routes",children:"Excluding Routes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@get('/internal/health', {\n  swagger: {\n    excludeFromSwagger: true\n  }\n})\nasync healthCheck(req: Request, res: Response) {\n  res.json({ status: \"ok\" });\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ui-options",children:"UI Options"}),"\n",(0,t.jsx)(n.h3,{id:"swagger-ui-standard",children:"Swagger UI (Standard)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'swagger: {\n  type: "standard",\n  path: "/docs"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"redoc",children:"ReDoc"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'swagger: {\n  type: "redoc",\n  path: "/docs"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"rapidoc",children:"RapiDoc"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'swagger: {\n  type: "rapidoc",\n  path: "/docs"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"integration-with-validation",children:"Integration with Validation"}),"\n",(0,t.jsx)(n.p,{children:"Balda.js automatically integrates your validation schemas with Swagger documentation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { Type } from \'@sinclair/typebox\';\n\nconst CreateUserSchema = Type.Object({\n  email: Type.String({ format: \'email\' }),\n  name: Type.String({ minLength: 1 }),\n  password: Type.String({ minLength: 8 })\n});\n\n@post(\'/\', {\n  validate: { body: CreateUserSchema },\n  swagger: {\n    name: "Create User",\n    requestBody: CreateUserSchema,\n    responses: {\n      "201": { $ref: "#/components/schemas/User" },\n      "400": { $ref: "#/components/schemas/ValidationError" }\n    }\n  }\n})\nasync createUser(req: Request, res: Response) {\n  // The validation schema automatically becomes the OpenAPI schema\n  const user = await createUser(req.body);\n  res.created(user);\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"accessing-documentation",children:"Accessing Documentation"}),"\n",(0,t.jsx)(n.p,{children:"Once configured, your API documentation will be available at:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Swagger UI"}),": ",(0,t.jsx)(n.code,{children:"http://localhost:3000/docs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OpenAPI JSON"}),": ",(0,t.jsx)(n.code,{children:"http://localhost:3000/docs/json"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The JSON specification can be used with other OpenAPI tools or imported into external documentation systems."}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Descriptive Names"}),": Give your routes meaningful names and descriptions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Group Related Routes"}),": Use the ",(0,t.jsx)(n.code,{children:"service"})," property to group related endpoints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document All Responses"}),": Include success and error responses"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use Reusable Models"}),": Define models in the global configuration for reuse"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Keep Security Simple"}),": Use standard security schemes when possible"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Your Documentation"}),": Use the generated documentation to test your API"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var r=s(6540);const t={},i=r.createContext(t);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);