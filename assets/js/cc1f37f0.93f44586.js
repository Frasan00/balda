"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1636],{8078:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"commands/built-ins/cron-start","title":"cron-start","description":"Start the cron job scheduler to run scheduled tasks.","source":"@site/docs/commands/built-ins/cron-start.md","sourceDirName":"commands/built-ins","slug":"/commands/built-ins/cron-start","permalink":"/balda/docs/commands/built-ins/cron-start","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda/tree/main/docs/docs/commands/built-ins/cron-start.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"docs","previous":{"title":"build","permalink":"/balda/docs/commands/built-ins/build"},"next":{"title":"queue-start","permalink":"/balda/docs/commands/built-ins/queue-start"}}');var t=s(4848),o=s(8453);const a={sidebar_position:8},i="cron-start",c={},l=[{value:"Arguments",id:"arguments",level:2},{value:"Flags",id:"flags",level:2},{value:"What it does",id:"what-it-does",level:2},{value:"Cron Expression Format",id:"cron-expression-format",level:2},{value:"Examples",id:"examples",level:2},{value:"Cron Job Example",id:"cron-job-example",level:2},{value:"Common Cron Patterns",id:"common-cron-patterns",level:3},{value:"Configuration Options",id:"configuration-options",level:2}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"cron-start",children:"cron-start"})}),"\n",(0,t.jsx)(e.p,{children:"Start the cron job scheduler to run scheduled tasks."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"npx balda cron-start\nnpx balda cron-start src/crons/**/*.ts\n"})}),"\n",(0,t.jsx)(e.h2,{id:"arguments",children:"Arguments"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"pattern"}),": Glob pattern for cron job files (default: ",(0,t.jsx)(e.code,{children:"src/crons/**/*.{ts,js}"}),")"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"flags",children:"Flags"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"-p, --patterns <patterns...>"}),": Additional glob patterns for cron jobs"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"what-it-does",children:"What it does"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Loads cron job files matching the provided patterns"}),"\n",(0,t.jsxs)(e.li,{children:["Registers all jobs decorated with the ",(0,t.jsx)(e.code,{children:"@cron"})," decorator"]}),"\n",(0,t.jsxs)(e.li,{children:["Starts the scheduler using ",(0,t.jsx)(e.code,{children:"node-cron"})]}),"\n",(0,t.jsx)(e.li,{children:"Keeps the process alive to execute jobs at scheduled times"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"cron-expression-format",children:"Cron Expression Format"}),"\n",(0,t.jsx)(e.p,{children:"Standard cron syntax (5 or 6 fields):"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 second (optional)\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 minute (0-59)\n\u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 hour (0-23)\n\u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 day of month (1-31)\n\u2502 \u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500 month (1-12)\n\u2502 \u2502 \u2502 \u2502 \u2502 \u250c\u2500\u2500\u2500\u2500 day of week (0-7, 0|7 = Sunday)\n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502\n* * * * * *\n"})}),"\n",(0,t.jsx)(e.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Use default pattern (src/crons/**/*.{ts,js})\nnpx balda cron-start\n\n# Custom pattern\nnpx balda cron-start app/tasks/**/*.ts\n\n# Multiple patterns\nnpx balda cron-start src/crons/**/*.ts --patterns src/schedules/**/*.ts\n"})}),"\n",(0,t.jsx)(e.h2,{id:"cron-job-example",children:"Cron Job Example"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"import { BaseCron } from 'balda';\nimport { cron } from 'balda';\n\nexport default class DailyReportCron extends BaseCron {\n  @cron('0 0 * * *', { timezone: 'America/New_York' })\n  async handle() {\n    this.logger.info('Generating daily report...');\n    // Daily report generation logic\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"common-cron-patterns",children:"Common Cron Patterns"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"'*/5 * * * *'      // Every 5 minutes\n'0 */2 * * *'      // Every 2 hours\n'0 0 * * *'        // Daily at midnight\n'0 0 * * 0'        // Weekly on Sunday\n'0 0 1 * *'        // Monthly on the 1st\n'0 9 * * 1-5'      // Weekdays at 9 AM\n"})}),"\n",(0,t.jsx)(e.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"@cron('0 0 * * *', {\n  timezone: 'America/New_York',  // Timezone for schedule\n  runOnInit: false,               // Run immediately on start\n})\n"})}),"\n",(0,t.jsx)(e.admonition,{type:"tip",children:(0,t.jsx)(e.p,{children:"Run cron jobs in a separate process from your web servers. Use process managers like PM2 or systemd to keep the scheduler running."})}),"\n",(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsxs)(e.p,{children:["Generate cron jobs with ",(0,t.jsx)(e.code,{children:"npx balda generate-cron"})," for proper structure and type safety."]})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>i});var r=s(6540);const t={},o=r.createContext(t);function a(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);