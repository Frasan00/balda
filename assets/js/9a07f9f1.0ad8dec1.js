"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9230],{6369:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"commands/built-ins/init-mailer","title":"init-mailer","description":"Initialize mailer configuration with required dependencies.","source":"@site/docs/commands/built-ins/init-mailer.md","sourceDirName":"commands/built-ins","slug":"/commands/built-ins/init-mailer","permalink":"/balda/docs/commands/built-ins/init-mailer","draft":false,"unlisted":false,"editUrl":"https://github.com/Frasan00/balda/tree/main/docs/docs/commands/built-ins/init-mailer.md","tags":[],"version":"current","sidebarPosition":2.5,"frontMatter":{"sidebar_position":2.5},"sidebar":"docs","previous":{"title":"init-queue","permalink":"/balda/docs/commands/built-ins/init-queue"},"next":{"title":"list","permalink":"/balda/docs/commands/built-ins/list"}}');var l=i(4848),r=i(8453);const d={sidebar_position:2.5},t="init-mailer",a={},c=[{value:"Flags",id:"flags",level:2},{value:"Template Engine Dependencies",id:"template-engine-dependencies",level:2},{value:"What it does",id:"what-it-does",level:2},{value:"Generated Configuration",id:"generated-configuration",level:2},{value:"Example with Handlebars",id:"example-with-handlebars",level:3},{value:"Development Setup",id:"development-setup",level:2},{value:"Template Engine Comparison",id:"template-engine-comparison",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"init-mailer",children:"init-mailer"})}),"\n",(0,l.jsx)(n.p,{children:"Initialize mailer configuration with required dependencies."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx balda init-mailer -t handlebars\nnpx balda init-mailer -t ejs -o src/email\nnpx balda init-mailer -t none\n"})}),"\n",(0,l.jsx)(n.h2,{id:"flags",children:"Flags"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-t, --template <engine>"}),": Template engine (",(0,l.jsx)(n.code,{children:"handlebars"}),", ",(0,l.jsx)(n.code,{children:"ejs"}),", ",(0,l.jsx)(n.code,{children:"edge"}),", ",(0,l.jsx)(n.code,{children:"mustache"}),", ",(0,l.jsx)(n.code,{children:"custom"}),", ",(0,l.jsx)(n.code,{children:"none"}),") - default: ",(0,l.jsx)(n.code,{children:"none"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-o, --output <path>"}),": Output directory (default ",(0,l.jsx)(n.code,{children:"src/mailer"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"template-engine-dependencies",children:"Template Engine Dependencies"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Base (always installed)"}),": ",(0,l.jsx)(n.code,{children:"nodemailer"}),", ",(0,l.jsx)(n.code,{children:"@types/nodemailer"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Handlebars"}),": ",(0,l.jsx)(n.code,{children:"handlebars"}),", ",(0,l.jsx)(n.code,{children:"@types/handlebars"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"EJS"}),": ",(0,l.jsx)(n.code,{children:"ejs"}),", ",(0,l.jsx)(n.code,{children:"@types/ejs"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Edge.js"}),": ",(0,l.jsx)(n.code,{children:"edge.js"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Mustache"}),": ",(0,l.jsx)(n.code,{children:"mustache"}),", ",(0,l.jsx)(n.code,{children:"@types/mustache"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Custom"}),": No additional dependencies (uses built-in adapter)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"None"}),": No template engine (plain text/HTML emails only)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"what-it-does",children:"What it does"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Checks if dependencies are installed (skips if present)"}),"\n",(0,l.jsx)(n.li,{children:"Installs required packages based on template engine choice"}),"\n",(0,l.jsxs)(n.li,{children:["Creates ",(0,l.jsx)(n.code,{children:"mailer.config.ts"})," with:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"SMTP transporter configuration"}),"\n",(0,l.jsx)(n.li,{children:"Template adapter setup (if selected)"}),"\n",(0,l.jsx)(n.li,{children:"Multiple provider examples"}),"\n",(0,l.jsx)(n.li,{children:"Environment variable templates"}),"\n",(0,l.jsx)(n.li,{children:"Comprehensive usage examples"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"generated-configuration",children:"Generated Configuration"}),"\n",(0,l.jsx)(n.p,{children:"The command creates a complete mailer configuration file that includes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"SMTP Configuration"}),": Ready to use with environment variables"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Template Adapter Setup"}),": Configured for your chosen engine with helper/partial examples"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Multi-Provider Support"}),": Examples for switching between different mail providers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Usage Examples"}),": Code snippets for sending emails, using templates, and more"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"example-with-handlebars",children:"Example with Handlebars"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:'import { createTransport } from "nodemailer";\nimport { Mailer, HandlebarsAdapter } from "balda";\n\nconst transporter = createTransport({\n  host: process.env.SMTP_HOST || "localhost",\n  port: parseInt(process.env.SMTP_PORT || "1025", 10),\n  secure: process.env.SMTP_SECURE === "true",\n  auth: process.env.SMTP_USER && process.env.SMTP_PASSWORD\n    ? {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASSWORD,\n      }\n    : undefined,\n});\n\nconst adapter = new HandlebarsAdapter();\n\nexport const mailer = new Mailer(\n  {\n    default: {\n      transporter,\n      templateAdapter: adapter,\n      from: process.env.DEFAULT_FROM_EMAIL || "noreply@example.com",\n    },\n  },\n  {\n    defaultProvider: "default",\n  }\n);\n'})}),"\n",(0,l.jsx)(n.h2,{id:"development-setup",children:"Development Setup"}),"\n",(0,l.jsxs)(n.p,{children:["For local development, the project includes MailCatcher in ",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker-compose up mailcatcher\n"})}),"\n",(0,l.jsx)(n.p,{children:"This starts MailCatcher on:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"SMTP"}),": ",(0,l.jsx)(n.code,{children:"localhost:1025"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Web UI"}),": ",(0,l.jsx)(n.code,{children:"http://localhost:1080"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Update your ",(0,l.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-env",children:"SMTP_HOST=localhost\nSMTP_PORT=1025\n"})}),"\n",(0,l.jsx)(n.h2,{id:"template-engine-comparison",children:"Template Engine Comparison"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Engine"}),(0,l.jsx)(n.th,{children:"Syntax"}),(0,l.jsx)(n.th,{children:"Helpers"}),(0,l.jsx)(n.th,{children:"Partials"}),(0,l.jsx)(n.th,{children:"Use Case"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Handlebars"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"{{var}}"})}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"Complex templates with logic"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"EJS"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"<%= var %>"})}),(0,l.jsx)(n.td,{children:"\u274c"}),(0,l.jsx)(n.td,{children:"\u274c"}),(0,l.jsx)(n.td,{children:"JavaScript-based templating"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Edge.js"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"{{ var }}"})}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"Laravel Blade-like syntax"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Mustache"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"{{var}}"})}),(0,l.jsx)(n.td,{children:"\u274c"}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"Logic-less templates"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Custom"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"{{var}}"})}),(0,l.jsx)(n.td,{children:"\u2705"}),(0,l.jsx)(n.td,{children:"\u274c"}),(0,l.jsx)(n.td,{children:"Simple interpolation"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"None"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"Plain HTML/text only"})]})]})]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Start with ",(0,l.jsx)(n.code,{children:"none"})," for simple transactional emails, or choose Handlebars for maximum flexibility with complex templates."]})}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.a,{href:"/docs/mailer/overview",children:"Mailer documentation"})," for detailed usage examples and best practices."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function d(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);